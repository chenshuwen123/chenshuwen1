<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src='../myutil.js'></script>
	<script src='../jquery-3.1.1.js'></script>
</head>
<body>
	<div id="container">
		
	</div>
	<div>
		<form action="">
			<input type="text" name="a1">
			<input type="text" name="a2">
			<button>获取数据</button>
		</form>	
	</div>
	<script>
	var url=tool.baseUrl+"/myapp/mySerivce"
	$(function(){
	/*	$('button').on('click',function(e){
		var a1=$('input:eq(0)').val()
		var a2=$('input:eq(1)').val()
			function handlerDate(data,status,jqXHR){
				console.log(data)
				console.log(status)
				console.log(jqXHR)
			}
			$.ajax(url,{
				type:'get', //post put delete
				success:handlerDate
			})
			e.preventDefault();
		})*/

		function request(data){
			console.log(data.result)
			$('#container').html(data.result)
		}
		function error(){
			console.log('出错')
		}
		function beforeSend(){
			form=$('form').serialize();
			console.log('1出错')
		}

		$('button:eq(0)').on('click',function(e){
			e.preventDefault(); 			//preventDefault preventDault
			var form=$('form').serialize(); //serialize   serialize
 			$.ajax({
				url:url,          
				data:form,
				type:"get",
				success:request,       //成功了制定函数
				error:error,		   //请求发生错误
				beforeSend:beforeSend,
				//complete:complete      //请求完成之后调用怎么都会执行
			})
		})
	})


	</script>
	
</body>
</html>